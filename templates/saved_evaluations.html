<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Saved Evaluation Results</title>
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <div class="container mt-4">
        <div class="card panel">
            <div class="card-header text-center">
                <h1>üìÇ Saved Evaluation Results</h1>
                <p class="mb-0">Access previously analyzed gameplay evaluations</p>
            </div>
            <div class="card-body">
                <div class="text-left mb-4">
                    <a href="/" class="btn btn-secondary squishy">‚Üê Back to Main</a>
                </div>

                <div class="alert alert-info" role="alert">
                    <strong>üíæ About Saved Results:</strong> All evaluation results are automatically saved and can be accessed later.
                    This includes the analysis scores, statistics, and the 16 frames analyzed for each clip.
                    Results persist across sessions and can be exported for further analysis.
                </div>

                {% if evaluations %}
                <div class="table-responsive">
                    <table class="table table-hover">
                        <thead class="thead-light">
                            <tr>
                                <th scope="col">#</th>
                                <th scope="col">Dataset</th>
                                <th scope="col">Model</th>
                                <th scope="col">Clips</th>
                                <th scope="col">Timestamp</th>
                                <th scope="col">Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for eval in evaluations %}
                            <tr>
                                <th scope="row">{{ loop.index }}</th>
                                <td>
                                    <div class="font-weight-bold">{{ eval.dataset }}</div>
                                    <small class="text-muted">ID: {{ eval.process_id[:8] }}...</small>
                                </td>
                                <td>{{ eval.model }}</td>
                                <td class="text-center">{{ eval.clips_count }}</td>
                                <td>{{ eval.timestamp[:19].replace('T', ' ') }}</td>
                                <td>
                                    <a href="/evaluation-results/{{ eval.process_id }}" class="btn btn-primary btn-sm squishy">View</a>
                                    <a href="/export-results/{{ eval.process_id }}" class="btn btn-success btn-sm squishy">Export</a>
                                </td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
                {% else %}
                <div class="text-center p-5">
                    <div style="font-size: 48px;" class="mb-3">üì≠</div>
                    <h3>No Saved Evaluations</h3>
                    <p class="text-muted">Run an evaluation to see results here.</p>
                    <a href="/" class="btn btn-primary squishy mt-3">Go to Main Page</a>
                </div>
                {% endif %}
            </div>
        </div>
    </div>
    
</body>
</html>